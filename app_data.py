import re

CONST_LAST_NEST_INFO = """
N49 一顆
N50 兩顆
"""

CONST_LAST_NEST_IDS = """
N41 N42 N43 N44 N45 N46
N79
N101
N121 N122 N123 N124 N125
N141 N148 N149 N150
N168 N169
N191 N192 N193 N194 N195 N196 N197 N198
KP27 KP30
SN27 SN28 SN29 SN37 SN38 SN40
N47 N48 N49 N50
N51 N52 N53 N54 N55 N56 N59 N60
N66 N70
N77 N80
N81 N82 N83 N84 N85 N86 N87 N88 N89 N90
N95 N96 N97 N98 N100
N102 N103 N104 N105 N106 N107 N109 N110
N111 N112 N113 N114 N115 N116 N117 N118 N119
N131 N132 N133 N134 N135 N136 N137 N138 N139 N140
N142 N143 N144 N145 N146 N147
N151 N152 N153 N154 N155 N156 N157 N158 N160
N161 N162 N163 N164 N165 N166 N167
KP26 KP28 KP29
SN39

"""


CONST_NEST_IDS_L = """KP1
KP4
KP2 KP5 LR1 L1 L6 KP3 SN1 KP13 KP11 LR6 L11 KP6 KP7 SN6 KP8 L12 KP12 KP9 KP10 SN7 KP14 SN8 L13 L3 L14 LR2 L5 L7 L15 L4 L16 L17 L8 L26 L20 L22 L9 L10 SN2 L24 L19 L21 L25 KP16 L29 L18 L28 L23 L34 L27 L30 L35 L31 L43 L33 L36 L39 L41 SN9 L44 L40 L32 L51 L37 L42 L49 L52 L47 L45 L38 L50 L48 KP17 L57 L46 L53 L55 N1 L60 L54 N2 N4 L56 LR11 N3 N6 N7 L61 N11 N10 LR11 L63 L78 L62 L58 N9 N5 L68 L73 L64 N8 L76 L69 L74 L65 L75 L79 N14 L67 N12 L80 N15 L66 L71 L77 N13 N17 L70 N16 L72 N19 N20 KP18 N18 N21 N22 N23 N24 L81 L85 SN10 SN3 L92 L86 L111 L82 L101 L112 L83 L87 Lr4 L113 L93 L102 L114 L88 SN16 L91 L84 L95 L115 LR15 L89 L116 L96 L103 L97 L117 L90 L104 L99 L118 L100 L125 L119 L121 L98 L122 LR14 L128 L123 L120 L105 L126 L130 L131 L124 L127 L133 L106 N31 L129 L134 L135 L138 L132 L109 L136 L140 L107 N32 L142 L110 L139 L143 L137 L108 L141 N33 L144 L150 L145 KP15 L147 L149 L146 L148 KP21 KP19 L171 L161 L173 L151 L184 L164 L201 L188 L152 L172 L189 L183 L153 L202 L174 L186 L154 L185 L176 L203 L187 L166 L155 L204 L182 L156 LR3 L190 L181 L195 L146 L191 L205 L177 L192 L178 L193 L206 L194 L157 L200 L197 L158 L199 L196 L168 L163 L169 L207 L198 L159 L170 L160 L167 L208 L179 L175 L209 L180 L210 L165 L241 LR12 L242 L243 L244 L245 L247 L162 L246 L248 L249 L250 LR5 L211 L213 L212 L214 L221 L215 L218 L216 L219 L222 L217 L220 L223 LR11 L224 L261 L271 KP23 KP22 KP24 L231 L302 L236 KP25 L232 L272 L226 L233 L273 L234 L267 L235 L266 L257 L237 L238 L269 L256 L239 L258 L270 L227 L240 L259 L262 L228 L260 L229 L274 L230 L268 L263 L251 L275 L264 L252 L253 L286 L254 L281 L276 L277 KP33 KP35 L255 L285 SN11 SN4 SN5 L304 L305 L291 L306 KP34 LR12 LR22 L307 L310 L280 L288 L303 L283 L301 L313 L309 KP24 L311 L308 L287 L320 L321 L319 L284 L314 L296 L322 L316 L290 L289 L315 L323 L318 L299 L312 L292 L317 L293 L279 L265 L297 L295 L294 L277 L298 L300 L361 L324 L332 L331 L278 L325 L363 L327 L364 L328 L366 L326 L329 L362 L380 L365 L330 L335 L367 L368 L336 L333 L369 L337 L345 L344 L334 L371 L373 L347 L339 L370 L338 L374 L340 L348 L377 L342 L393 L346 L341 L343 L376 L391 L372 L352 L379 L351 L349 L378 L358 L354 L400 L353 L375 KP41 L392 KP31 L398 L355 L357 L431 KP32 L443 L432 L405 KP33 L433 L449 L434 L450 L409 L435 L443 L406 L448 KP34 L444 L436 L401 L445 L437 L440 L438 L439 L422 L447 L421 L423 L402 L434 L425 L441 L426 L403 L446 L429 L427 L430 L428 L407 L381 L382 L384 KP35 L386 L408 L385 L383 L395 L388 L389 L387 L390 L396 L390 KP41 L397 L410 L411 L394 L413 L356 L399 L503 L417 L522 L502 L501 L412 L418 L508 L504 L505 LR24 L510 L506 L511 KP43 L512 L513 L521 L514 L507 L515 L516 L517 SN13 L518 L420 L524 L523 L525 L526 KP42 L491 L404 KP45 KP44 L527 L528 L451 L359 L465 L414 L415 L471 L419 L484 L483 SN14 SN12 SN15 L482 KP52 L461 L487 L489 KP54 L461 L530 L493 L485 L472 L452 L463 L473 L453 L481 L462 L492 L488 L494 L467 L495 L468 L469 SN21 SN22 L01 L02 L03 L04 L05 L06 L07 L08 L09
"""

CONST_NEST_IDS_N = """
SN17
N25
SN18 N26 KP20 N34 N35 N36 N37 N38 SN19 N39 N40 N71 N75 N73 N72 N74 N27 N28 N61 N62 N63 N29 N64 N81 N65 N66 N67 N68 N69 KP26 N70 N93 N92 N91 SN20 N76 N94 N95 N77 SN26 SN27 SN28 N41 SN29 N42 N43 SN30 KP27 N44 SN36 N45 N101 N46 N78 SN37 SN38 N102 N79 N103 N80 N47 KP28 N104 N82 N85 N49 N83 N105 N48 N51 N84 N57 N52 N86 N96 N53 N50 N87 N88 N98 N106 N56 N107 N109 N99 N57 N54 N89 N110 N58 N60 N59 N90 N111 N97 N152 N100 N153 N151 N112 N155 N156 N157 N158 N159 N113 N114 N115 N116 N117 N119 N118 N120 N154 N160 N131 N136 N132 N141 N133 N137 N134 N135 N138 N142 N143 N144 N139 KP29 N140 N161 N162 N163 N147 SN39 N164 N165 N166 N146 N191 N145 N167 SN40 N192 N168 N169 N148 N193 N194 N196 N195 N149 N121 N197 N122 N123 N150 N198 KP30 N124 N125 N01 N02 N03 N04 N05 N06 N07 N09
N55

"""
#CONST_LAST_NEST_IDS = CONST_NEST_IDS_L+CONST_NEST_IDS_N
#matches = re.findall(r'[A-Z]+[0-9]+', CONST_LAST_NEST_IDS)
#print(matches)
#codes = set([re.match(r'[A-Z]+', match).group() for match in matches])
#print(codes)

#CONST_NEST_IDS_L = ["KP"str(_) for _ in range(1000)]
#CONST_NEST_IDS_N
#
CONST_NEST_ZONE = {
    "一巢區":"""L502 L522 L417 L362 L280 L501 L278 L297 L277 L298 L279 L294 L331 L300 L316 L359 L332 L317 L465 L412 L318 L299 L312 L314 L508 L295 L505 L320 L364 L363 L292 L504 L293 L296 LR24 L309 L361 L366 L313 L311 L289 L283 L290 L288 L287 L319 L315 L303 KP5 L308 L301 L506 KP24 L380 L451 L503 L414 L368 L370 L333 L365 L367 L471 L510 KP43 L286 L511 L334 L291 L336 L337 L371 L305 L415 L369 L484 L398 L373 L376 L339 L374 L340 L419 L377 L321 L393 L372 L378 L400 L338 L379 L391 L375 L392 L322 L349 L357 L416 L351 L352 L355 L346 KP31 L353 L354 L521 L358 L343 L323 L341 L342 KP34 KP41 L483 L345 L348 L512 SN14 L344 L515 L513 L347 L514 L330 L507 L516 L329 LR12 L328 L327 L325 L326 L324 L517 SN12 SN13 SN15 L418 LR22 LR31 L476 L496 L497""",
    "溪口沙洲":"""L442 KP32 L431 L356 L411 SN12 L434 L482 L432 L433 L437 L387 KP44 L405 L440 L524 L527 L523 L438 L447 L448 L439 L445 L436 L444 L423 L461 KP52 L487 L310 L396 L399 L441 L428 L406 L409 L401 L430 KP45 KP53 L427 L489 L446 L390 L382 L385 L424 L381 L425 L426 L402 L397 L383 L389 KP11 L403 L388 L525 L410 L394 KP42 L407 L404 L491 L384 L529 KP54 L395 L530 L420 KP33 L422 L429 KP35 L449 L490 L470 L532 L474 L533 L534 L499""",
    "獨立沙洲":"""L493 L472 L452 L494 L485 L473 L453 L495 L463 L462 L488 L467 L469 L468 L537 L481 L536 L538 L492 L531 L479""",
    "孤草區":"""SN21 SN22""",

    "第二區上" : """N44 N45
N123 N124 N125 N130 N149 N150
N170 N171 N172
KP27
SN27 SN28 SN48""",
    "第二區下": """N48 N55 N59 N66 N77 N80 N84 N95 N106 N109
N112 N113 N114 N115 N116 N117 N119
N126 N127 N128 N129 
N131 N132 N133 N135 N137 N139
N142 N143 N145 N146 N147
N154 N155 N158 N160
N161 N162 N163 N165 N166
KP26 KP28 KP29"""
,
#南澳
"GPS":"SN46 SN47",
"過期": "N66 N77 N95 KP26",
"上次有雛":"N48 N106 N117 N125 N139 N158",
"上週蛋數變少疑似成功":"N44 N55 N112 N124 N145 N146 N149 N155",
#蘭陽
"中段一巢區需收旗":"L286 L289 L291 L296 L300 L315 L333 L354 L358 L363 L369 L370 L371 L510",
"溪口段需收旗":"L356 L381 L383 L390 L402 L403 L405 L406 L422 L423 L425 L427 L430 L432 L434 L437 L440 L442 L445 L447 L525 L530"

    }
def get_nests(data):
    result = []
    for word in data.split():
        result.append(word.upper())
    return result


REMOVED_NEST_L0701 = get_nests("""KP32 KP41 SN13 KP42 SN12 LR11 L224 L286 L310 L303 L280 L288 L301 L283 L313 L309 L308 L311 L320 L321 L314 L322
L290 L316 L323 L318 L317 L299 L312 L292 L293 L297 L279 L265 L295 L294 L298 L361 L324 L331 L332 L278 L325 L327
L366 L328 L362 L329 L380 L335 L365 L367 L368 L336 L337 L344 L334 L330 L347 L338 L339 L374 L340 L348 L342 L377
L393 L343 L341 L376 L391 L372 L349 L379 L352 L378 L351 L353 L358 L400 L375 L392 L355 L398 L357 L431 L433 L409
L434 L448 L444 L436 L401 L438 L423 L424 L426 L441 L429 L446 L428 L407 L382 L385 L388 L389 L387 L396 L397 L410
L394 L411 L373 L502 L503 L418 L504 L511 L513 L521 L514 L507 L523 L526 L527 L528 L484 L482 L487 L485""")
REMOVED_SET = set([] + REMOVED_NEST_L0701)

for key in CONST_NEST_ZONE.keys():
    print(key, "old count:", len(CONST_NEST_ZONE[key].split()))
    CONST_NEST_ZONE[key] = ' '.join([_ for _ in CONST_NEST_ZONE[key].split() if not _ in REMOVED_SET]    )
    print(key, "new count:", len(CONST_NEST_ZONE[key].split()))
    print(key, CONST_NEST_ZONE[key])


CONST_LAST_NEST_IDS = []
for key in CONST_NEST_ZONE.keys():
    for word in CONST_NEST_ZONE[key].split():
        CONST_LAST_NEST_IDS.append(word.upper())

CONST_OLD_EGGS = {
"KP26": "3","KP28": "3","SN27": "1","SN28": "1","SN29": "2","SN39": "2","KP27": "1","SN37": "2","SN38": "2","SN40": "2","KP30": "兩雛一蛋","N66": "1","N70": "1","N77": "1","N81": "一雛一蛋","N95": "1","N100": "2","N101": "2","N102": "2","N103": "2","N104": "2","N105": "2","N106": "2","N107": "2","N110": "2","N111": "2","N112": "2","N151": "2","N152": "2","N153": "2","N156": "2","N157": "2","N158": "2","N41": "2","N42": "2","N43": "2","N44": "2","N45": "1","N46": "1蛋1雛","N47": "3","N49": "1","N50": "2","N51": "2","N53": "2","N54": "2","N60": "2","N80": "2","N82": "1","N83": "2",
"N86": "2","N87": "2","N89": "2","N90": "2","N97": "2","N109": "2","N155": "2","N48": "2","N52": "2","N56": "2","N59": "2","N79": "2","N84": "2","N85": "2","N88": "2","N96": "2","N98": "2","N55": "2","N113": "2","N114": "2","N115": "2","N116": "1","N117": "2","N118": "1蛋1雛","N119": "2","N120": "","N131": "2","N132": "3","N133": "2","N134": "1蛋1雛","N135": "1","N136": "2","N137": "1","N138": "2","N139": "2","N140": "2","N141": "1蛋1雛","N142": "2","N143": "2","N144": "2","N154": "2",
"N160": "2","N121": "1","N122": "2","N123": "2","N124": "2","N145": "2","N146": "2","N148": "3","N149": "2","N150": "1","N125": "2","N161": "2","N162": "2","N163": "1","N164": "2","N165": "1","N166": "1","N167": "2","N168": "2","N169": "1蛋1雛","N191": "1蛋1雛","N192": "2","N193": "2","N194": "2","N195": "2","N196": "2","N197": "1","N198": "2","N147": "1",
}

#import re

# 需要搜索的字串
#text = "時間 小幫手N1 L6 N01 KP11 KP101 KP67 KP 99 KP123 L456 L999 L1001 L101 L100"

# 進行正則表達式匹配
#matches = [_[0] for _ in re.findall(r'((N|L|KP|LR|SN)[0-9]{1,3})\b', text)]

# 輸出匹配結果
#print(matches)  
